<ion-content [fullscreen]="true">
  <ion-header>
    <ion-toolbar color="primary">
      <ion-title>Camera</ion-title>
    </ion-toolbar>
  </ion-header>

  <div class="content">
    <!-- Capture Button -->
    <div class="capture-button-container">
      <ion-button (click)="captureImage()" [disabled]="isLoading">
        <ion-icon name="camera" slot="icon-only"></ion-icon>
      </ion-button>
    </div>

    <!-- Loading State -->
    <div *ngIf="isLoading" class="loading-container">
      <ion-spinner name="crescent"></ion-spinner>
    </div>

    <!-- Error Message -->
    <div *ngIf="errorMessage" class="error-container">
      <ion-item color="danger" (click)="dismissError()">
        <ion-icon name="alert-circle-outline" slot="start"></ion-icon>
        <ion-label>{{ errorMessage }}</ion-label>
      </ion-item>
    </div>

    <!-- Photo Gallery -->
    <ion-grid *ngIf="photos.length > 0">
      <ion-row>
        <ion-col 
          size="6"
          size-md="4"
          size-lg="3" 
          *ngFor="let photo of photos"
        >
          <div class="photo-container">
            <img [src]="photo" alt="Captured photo" class="photo-preview">
            <div class="photo-actions">
              <ion-button fill="clear" (click)="viewPhoto(photo)">
                <ion-icon name="eye-outline"></ion-icon>
              </ion-button>
              <ion-button fill="clear" color="danger" (click)="clearAllPhotos()">
                <ion-icon name="trash-outline"></ion-icon>
              </ion-button>
            </div>
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>