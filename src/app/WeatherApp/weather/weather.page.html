<ion-content [fullscreen]="true">
  <ion-header [translucent]="true">
    <ion-toolbar color="primary">
      <ion-title>PurpleWeather</ion-title>
    </ion-toolbar>
  </ion-header>

  <div id="container">
    <ion-item class="search-bar">
      <ion-input 
        [(ngModel)]="cityInput" 
        placeholder="Search for a city..."
        (keyup.enter)="getWeatherData()">
      </ion-input>
      <ion-button fill="clear" slot="end" (click)="getWeatherData()">
        <ion-icon name="search-outline"></ion-icon>
      </ion-button>
    </ion-item>

    <ion-card *ngIf="weatherData" class="weather-card">
      <ion-card-header>
        <ion-card-title>
          <img 
            [src]="'https://flagcdn.com/48x36/' + weatherData.sys.country.toLowerCase() + '.png'" 
            class="country-flag"
            alt="Country Flag">
          {{ weatherData.name }}, {{ weatherData.sys.country }}
        </ion-card-title>
        <ion-card-subtitle>
          {{ weatherData.weather[0].description | titlecase }}
        </ion-card-subtitle>
      </ion-card-header>

      <ion-card-content>
        <ion-list lines="none">
          <ion-item (click)="showTempDetails()" class="clickable-item">
            <ion-icon name="thermometer-outline" slot="start"></ion-icon>
            <ion-label>{{ weatherData.main.temp | number:'1.0-0' }}Â°C</ion-label>
          </ion-item>

          <ion-item>
            <ion-icon name="water-outline" slot="start"></ion-icon>
            <ion-label>{{ weatherData.main.humidity }}% Humidity</ion-label>
          </ion-item>

          <ion-item class="weather-icon-item">
            <ion-img 
              [src]="'https://openweathermap.org/img/wn/' + weatherData.weather[0].icon + '@2x.png'"
              class="weather-icon">
            </ion-img>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>